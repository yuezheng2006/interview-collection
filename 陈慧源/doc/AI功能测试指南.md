# AI功能测试指南

## 快速开始

### 1. 启动服务
```bash
# 启动后端服务
cd backend
go run cmd/server/main.go

# 启动前端服务
cd frontend
npm run dev
```

### 2. 访问编辑器
打开浏览器访问：`http://localhost:5173/editor/[文档ID]`

## 功能测试流程

### 测试1：润色功能
1. **准备测试文本**
   ```
   这是一个测试文档，用来测试AI润色功能。文本可能有一些表达不够准确的地方，需要AI来帮助优化。
   ```

2. **选择文本**
   - 选中"文本可能有一些表达不够准确的地方，需要AI来帮助优化"
   - 观察右侧显示"已选择 XX 字符"

3. **配置AI功能**
   - 选择"润色"功能
   - 输入要求："请帮我优化这段文字的表达，使其更加准确和流畅"

4. **执行AI处理**
   - 点击"开始AI处理"
   - 观察Loading状态和结果展示

5. **验证结果**
   - 检查AI返回的润色结果
   - 点击"采纳"应用结果
   - 验证文档内容已更新

### 测试2：总结功能
1. **准备长文本**
   ```
   人工智能技术正在快速发展，在各个领域都有广泛应用。在医疗领域，AI可以辅助诊断疾病，提高诊断准确率；在教育领域，AI可以提供个性化学习方案，帮助学生更好地学习；在交通领域，AI可以实现自动驾驶，提高道路安全性。这些应用都展示了AI技术的巨大潜力。
   ```

2. **选择文本**
   - 选中整段文本
   - 确认选择范围正确

3. **配置AI功能**
   - 选择"总结"功能
   - 输入要求："请总结这段文字的核心要点"

4. **执行和验证**
   - 执行AI处理
   - 检查总结结果是否准确
   - 应用或拒绝结果

### 测试3：续写功能
1. **准备开头文本**
   ```
   在一个宁静的夜晚，月光洒在小镇的街道上。小明走在回家的路上，突然听到身后传来奇怪的声音。
   ```

2. **选择文本**
   - 选中整段文本作为上下文

3. **配置AI功能**
   - 选择"续写"功能
   - 输入要求："请继续这个故事，保持悬疑氛围"

4. **执行和验证**
   - 执行AI处理
   - 检查续写内容是否连贯
   - 验证风格是否一致

### 测试4：生成功能
1. **准备文档概要**
   - 确保文档中有一些内容作为上下文

2. **配置AI功能**
   - 选择"生成"功能
   - 输入要求："请生成一段关于春天的优美描写"

3. **执行和验证**
   - 执行AI处理
   - 检查生成内容的质量
   - 验证是否符合要求

## 智能选择测试

### 测试上下文边界识别
1. **创建测试文本**
   ```
   第一段内容。这是第一段的结尾。
   第二段内容。这是第二段的结尾。
   第三段内容。这是第三段的结尾。
   ```

2. **选择测试**
   - 选择"第二段内容。这是第二段的结尾。"
   - 观察AI是否智能选择了完整的句子
   - 检查上下文是否包含前后段落

### 测试长文档摘要
1. **创建长文档**
   - 输入超过200字符的文档内容
   - 观察摘要生成逻辑

2. **验证摘要**
   - 检查摘要是否包含开头和结尾
   - 验证摘要长度是否合理

## 错误处理测试

### 测试网络错误
1. **模拟网络问题**
   - 断开网络连接
   - 尝试调用AI功能
   - 验证错误提示是否正确

### 测试输入验证
1. **测试空内容**
   - 不选择任何文本
   - 尝试调用需要文本选择的功能
   - 验证提示信息

2. **测试过长内容**
   - 输入超长文本
   - 验证处理逻辑

## 性能测试

### 测试响应时间
1. **记录处理时间**
   - 使用不同长度的文本
   - 记录AI响应时间
   - 分析性能表现

### 测试并发处理
1. **快速连续操作**
   - 快速切换不同功能
   - 验证状态管理
   - 检查是否有冲突

## 用户体验测试

### 测试界面响应
1. **检查状态反馈**
   - Loading状态显示
   - 进度提示
   - 结果展示

2. **测试操作流程**
   - 文本选择 → AI处理 → 结果应用
   - 验证流程是否顺畅

### 测试响应式设计
1. **调整窗口大小**
   - 测试不同屏幕尺寸
   - 验证布局适配

## 测试检查清单

- [ ] 润色功能正常工作
- [ ] 总结功能正常工作
- [ ] 续写功能正常工作
- [ ] 生成功能正常工作
- [ ] 智能选择算法正确
- [ ] 上下文提取准确
- [ ] 错误处理完善
- [ ] 状态管理正确
- [ ] 结果应用成功
- [ ] 界面响应良好
- [ ] 响应式设计正常

## 常见问题排查

### AI调用失败
1. 检查后端服务是否启动
2. 检查网络连接
3. 查看浏览器控制台错误信息
4. 检查后端日志

### 文本选择异常
1. 检查浏览器兼容性
2. 验证事件绑定
3. 检查DOM元素选择器

### 结果应用失败
1. 检查文本替换逻辑
2. 验证光标位置计算
3. 检查内容更新机制

## 性能基准

### 响应时间目标
- **文本选择**：< 100ms
- **AI调用**：< 5s
- **结果应用**：< 200ms
- **界面更新**：< 100ms

### 内存使用目标
- **基础内存**：< 50MB
- **长文档处理**：< 100MB
- **AI结果缓存**：< 20MB

## 总结

通过以上测试流程，可以全面验证AI写作助手的各项功能。建议按照功能模块逐步测试，确保每个环节都能正常工作。测试过程中注意记录发现的问题，及时修复和优化。 