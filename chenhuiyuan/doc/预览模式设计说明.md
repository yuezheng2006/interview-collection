# 预览模式设计说明

## 设计理念

预览模式的核心设计理念是"专注查看，简化操作"，当用户进入预览模式时，隐藏所有编辑相关的工具栏，让用户专注于查看格式化后的效果，提供沉浸式的预览体验。

## 功能特性

### 1. 智能工具栏切换
- **编辑模式**：显示完整的字体控制工具栏
  - 文本样式按钮组（加粗、斜体、下划线）
  - 格式清除按钮
  - 显示预览按钮

- **预览模式**：显示简洁的预览工具栏
  - 模式提示标签
  - 返回编辑按钮

### 2. 内容区域切换
- **编辑模式**：显示AI功能按钮和文本编辑器
- **预览模式**：显示格式化预览区域
- 两种模式互斥显示，不会同时出现

### 2. 条件渲染逻辑
```vue
<!-- 编辑模式工具栏 -->
<div class="font-control-toolbar" v-if="!showPreview">
  <!-- 完整的样式设置工具 -->
</div>

<!-- 预览模式工具栏 -->
<div class="preview-toolbar" v-if="showPreview">
  <!-- 简洁的预览工具 -->
</div>
```

### 3. 视觉状态管理
- 使用Vue的响应式状态控制显示/隐藏
- 平滑的切换动画和过渡效果
- 清晰的模式区分和视觉反馈

### 4. 固定底部按钮
- 保存和返回首页按钮固定在页面底部
- 使用固定定位，始终可见
- 为编辑器内容添加底部边距，避免遮挡

## 用户界面设计

### 1. 编辑模式工具栏
- **背景**：浅灰色渐变背景 (#f8f9fa → #e9ecef)
- **边框**：圆角边框，轻微阴影
- **布局**：水平排列，支持换行
- **功能**：完整的文本格式化工具集

### 2. 预览模式工具栏
- **背景**：蓝紫色渐变背景 (#667eea → #764ba2)
- **边框**：深色边框，增强阴影效果
- **布局**：左右分布，信息提示 + 操作按钮
- **功能**：模式提示 + 返回编辑

### 3. 预览区域增强
- **边框**：蓝色主题边框 (#667eea)
- **背景**：渐变背景，增强视觉层次
- **动画**：顶部渐变条动画效果
- **阴影**：增强的阴影效果，突出重要性

## 交互流程

### 1. 进入预览模式
1. 用户在编辑模式下点击"显示预览"按钮
2. 字体控制工具栏淡出隐藏
3. 预览模式工具栏淡入显示
4. 预览区域样式增强，突出显示效果

### 2. 预览模式体验
- 隐藏所有编辑相关的干扰元素
- 突出显示格式化后的文本效果
- 提供清晰的模式提示信息
- 简化操作，专注内容查看

### 3. 返回编辑模式
1. 用户点击"返回编辑"按钮
2. 预览模式工具栏淡出隐藏
3. 字体控制工具栏淡入显示
4. 预览区域样式恢复正常

## 视觉设计细节

### 1. 颜色主题
- **编辑模式**：中性色调，专业简洁
- **预览模式**：蓝紫色主题，突出重要性
- **一致性**：保持整体界面的视觉协调

### 2. 动画效果
```css
/* 顶部渐变条动画 */
.format-preview::before {
  background: linear-gradient(90deg, #667eea, #764ba2, #667eea);
  background-size: 200% 100%;
  animation: gradient-move 3s ease-in-out infinite;
}

@keyframes gradient-move {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
```

### 3. 悬停效果
```css
.preview-content:hover {
  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.2);
  transform: translateY(-2px);
}
```

## 用户体验优化

### 1. 模式切换
- **清晰的状态指示**：用户明确知道当前处于哪种模式
- **一键切换**：简单的按钮操作，无需复杂设置
- **状态保持**：切换模式时保持所有设置和内容

### 2. 专注体验
- **减少干扰**：预览模式下隐藏不必要的工具
- **突出内容**：增强预览区域的视觉重要性
- **简化操作**：只保留必要的功能按钮

### 3. 视觉反馈
- **模式识别**：不同的颜色主题和样式
- **状态提示**：清晰的文字说明和图标
- **操作引导**：明确的按钮标签和功能

## 技术实现

### 1. 状态管理
```typescript
const showPreview = ref<boolean>(false)

function togglePreview() {
  showPreview.value = !showPreview.value
}
```

### 2. 条件渲染
```vue
<!-- 根据showPreview状态条件渲染不同工具栏 -->
<div v-if="!showPreview">编辑工具栏</div>
<div v-if="showPreview">预览工具栏</div>
```

### 3. 样式切换
```css
/* 预览模式下的特殊样式 */
.format-preview {
  border: 2px solid #667eea;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.15);
}
```

## 响应式设计

### 1. 移动端适配
- 工具栏在小屏幕上自动换行
- 按钮大小适配触摸操作
- 预览区域在小屏幕上保持可读性

### 2. 桌面端优化
- 充分利用宽屏空间
- 工具栏水平排列，提高效率
- 预览区域适当放大，增强体验

### 3. 跨设备一致性
- 保持不同设备上的视觉一致性
- 操作逻辑在不同平台上保持一致
- 响应式布局适配各种屏幕尺寸

## 性能考虑

### 1. 渲染优化
- 使用v-if而不是v-show，避免不必要的DOM渲染
- 条件渲染减少页面元素数量
- 优化CSS动画性能

### 2. 状态同步
- 预览内容与编辑内容实时同步
- 使用计算属性避免重复计算
- 响应式更新，提升用户体验

### 3. 内存管理
- 切换模式时及时清理不需要的元素
- 避免内存泄漏和性能问题
- 优化大型文档的预览性能

## 未来扩展方向

### 1. 多主题支持
- 支持用户自定义预览主题
- 提供多种预设主题选择
- 支持深色/浅色模式切换

### 2. 预览增强
- 支持打印预览功能
- 添加导出预览选项
- 支持多页面预览

### 3. 交互优化
- 支持预览区域的缩放操作
- 添加预览历史记录
- 支持预览内容的搜索功能

### 4. 协作功能
- 支持预览内容的分享
- 添加预览评论和反馈
- 支持多人协作预览 