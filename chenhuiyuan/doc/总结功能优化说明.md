# 总结功能优化说明

## 问题描述
用户反馈AI总结功能生成的内容包含太多符号和编号（如1、2、3等），希望生成更自然的段落式总结。

## 解决方案
修改了 `buildSummarizePrompt` 函数中的提示词，明确要求AI：
- 用自然的段落形式描述文章内容
- 避免使用编号、符号等格式
- 直接写成连贯的段落

## 修改内容

### 文件位置
`backend/internal/handler/ai.go` 第380-384行

### 修改前
```go
func buildSummarizePrompt(userRequirement, selectedText string) string {
	return "用户要求：" + userRequirement + "\n\n" +
		"原文：" + selectedText + "\n\n" +
		"请根据用户要求对原文进行总结，提取核心要点。"
}
```

### 修改后
```go
func buildSummarizePrompt(userRequirement, selectedText string) string {
	return "用户要求：" + userRequirement + "\n\n" +
		"原文：" + selectedText + "\n\n" +
		"请根据用户要求对原文进行总结，用自然的段落形式描述文章讲了什么内容，避免使用编号、符号等格式，直接写成连贯的段落。"
}
```

## 预期效果
- AI生成的总结将更加自然流畅
- 避免出现编号列表格式
- 内容以连贯的段落形式呈现
- 更符合用户阅读习惯

## 影响范围
- 统一AI接口中的总结功能
- 原有总结接口中的总结功能
- 所有支持总结功能的AI模型（通义、文心、DeepSeek等）

## 测试建议
1. 选择一段文本进行总结测试
2. 验证生成的总结是否为段落形式
3. 确认没有编号和符号格式
4. 检查总结内容的连贯性和可读性 